<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>스토리 구성 웹학습지</title>
  <base target="_top">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">

  <!-- QR Code Library -->
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>

  <?!= include('Css') ?>
</head>
<body>
  <!-- Skip to main content link for accessibility -->
  <a href="#app" class="skip-link sr-only-focusable">본문으로 건너뛰기</a>

  <!-- 로딩 스피너 -->
  <div id="loading" class="loading-overlay" role="status" aria-live="polite" aria-label="로딩 중">
    <div class="spinner" aria-hidden="true"></div>
    <p>잠시만 기다려주세요...</p>
  </div>

  <!-- 앱 컨테이너 -->
  <div id="app" role="application" aria-label="스토리 구성 웹학습지"></div>

  <!-- 토스트 메시지 -->
  <div id="toast-container" role="status" aria-live="polite" aria-label="알림 메시지"></div>

  <!-- 모달 컨테이너 -->
  <div id="modal-container" role="dialog" aria-modal="true" aria-label="팝업 대화상자"></div>

  <!-- 스크립트: 순서 중요! -->
  <?!= include('JavaScript') ?>
  <?!= include('Components') ?>
  <?!= include('StudentLogin') ?>
  <?!= include('StudentPinSetup') ?>
  <?!= include('StudentMain') ?>
  <?!= include('TeacherLogin') ?>
  <?!= include('TeacherSetupWizard') ?>
  <?!= include('TeacherDashboard') ?>
  <?!= include('StoryCreator') ?>
  <?!= include('TtoriPanel') ?>
  <?!= include('TtoriSettings') ?>
  <?!= include('PersonalMain') ?>
  <?!= include('LandingPage') ?>
  <?!= include('Router') ?>

  <script>
    // URL 파라미터
    const params = <?= JSON.stringify(params) ?>;

    // 앱 초기화
    document.addEventListener('DOMContentLoaded', function() {
      initApp(params);
    });
  </script>
</body>
</html>
